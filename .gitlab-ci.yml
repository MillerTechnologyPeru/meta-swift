stages:
  - build

build-armv7:
  image: ubuntu:jammy
  stage: build
  script:
    - export DEBIAN_FRONTEND=noninteractive 
    - export DEBCONF_NONINTERACTIVE_SEEN=true 
    - apt -q update
    - apt -q install -y gawk wget git diffstat unzip texinfo gcc build-essential chrpath socat cpio python3 python3-pip python3-pexpect xz-utils debianutils iputils-ping python3-git python3-jinja2 libegl1-mesa libsdl1.2-dev xterm python3-subunit mesa-common-dev zstd liblz4-tool file
    - export SRC_ROOT=$(pwd)
    - export MACHINE=beaglebone-yocto
    - export POKY_DIR=/tmp/poky
    - cd /tmp/
    - git clone --branch dunfell git://git.yoctoproject.org/poky 
    - cd $SRC_ROOT
    - ./build.sh
  tags:
    - docker
